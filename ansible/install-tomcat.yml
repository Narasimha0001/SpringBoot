---
- name: install Tomcat9 on Application node
     hosts: app_nodes
     become: yes
     tasks:
        - name:update apt cache
          apt:
           update_cache: yes

        - name: Install Java
          apt:
           name: tomcat9
           state: present
        
        - name: Install Tomcat9
          apt:
           name: tomcat9
           state: present

        - name: Ensure Tomcat is enabled and running
          systemd:
            name: tomcat9
            state: started
            enabled: yes
